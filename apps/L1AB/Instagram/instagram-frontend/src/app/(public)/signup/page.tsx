'use client';
import { Field, Form, Formik } from 'formik';
import { useRouter } from 'next/navigation';
import * as Yup from 'yup';
import Link from 'next/link'
const validationSchema = Yup.object({
  mobileNumberorEmail: Yup.string()
    .email('Invalid email or mobile number')
    .required('Mobile number or email is required'),
  password: Yup.string()
    .min(8, 'Password must be at least 8 characters')
    .required('Password must be at least 8 characters'),
  fullname: Yup.string()
    .min(3, 'Full name must be at least 3 characters')
    .required('Full name is required'),
  username: Yup.string()
    .min(3, 'Username must be at least 3 characters')
    .required('Username must be at least 3 characters'),
});

const Page = () => {
  const router = useRouter();

  const handleSubmit = (values: { mobileNumberorEmail: string; password: string; fullname: string; username: string }) => {
    localStorage.setItem(
      'userData',
      JSON.stringify({
        mobileNumberorEmail: values.mobileNumberorEmail,
        password: values.password,
        fullname: values.fullname,
        username: values.username,
      })
    );
    router.push('/login');
  };

  return (
    <div className='h-screen flex flex-col items-center py-20 bg-gray-100 gap-4'
      data-cy="Sign-Up-Page">   
      <div className=' w-[364px] flex flex-col items-center rounded-xl py-8 gap-4 bg-white'>
         <div>
            <svg width="186" height="53" viewBox="0 0 186 53" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0604 0.680338C6.26363 2.26778 2.10684 6.73551 0.79761 12.3488C-0.871654 19.4514 6.05088 22.4462 6.62367 21.4643C7.27828 20.3187 5.3799 19.926 4.98714 16.2274C4.49618 11.4815 6.7055 6.14636 9.4876 3.82248C10.0113 3.38062 9.97856 3.98614 9.97856 5.09898L9.88037 28.7633C9.88037 33.8365 9.66762 35.4239 9.29121 37.0114C8.91481 38.6152 8.3093 39.6953 8.75116 40.1208C9.27485 40.579 11.5005 39.4662 12.777 37.666C14.2355 35.4413 14.9937 32.8305 14.9536 30.1707C15.0682 26.7994 15.0518 21.4479 15.0682 18.404C15.0682 15.6219 15.1173 7.42285 15.0191 2.49689C14.9864 1.28585 11.6315 0.025724 10.0604 0.696703V0.680338ZM144.469 24.3773C144.417 26.5004 143.926 28.5897 143.029 30.5143C141.638 33.3292 138.725 34.1965 137.481 30.1543C136.826 27.9614 136.777 24.2791 137.268 21.2025C137.759 18.0931 139.134 15.7201 141.409 15.9328C143.667 16.1456 144.714 19.0422 144.469 24.3773ZM106.583 40.7099C106.55 45.0795 105.863 48.909 104.39 50.0382C102.279 51.6093 99.4806 50.4146 100.053 47.2233C100.561 44.4085 102.999 41.5282 106.599 37.9933L106.583 40.7099ZM106.01 24.3446C105.915 26.4724 105.426 28.5641 104.57 30.5143C103.179 33.3292 100.25 34.1965 99.0223 30.1543C98.2041 27.3886 98.4005 23.8209 98.8096 21.5625C99.3496 18.6495 100.643 15.9328 102.95 15.9328C105.208 15.9328 106.321 18.3876 106.01 24.3446ZM84.0644 24.3119C84.0229 26.4607 83.5382 28.5779 82.6406 30.5307C81.2005 33.3128 78.3365 34.1965 77.0764 30.1543C76.1763 27.2576 76.4873 23.2809 76.8637 21.1534C77.4201 17.9621 78.8275 15.7201 81.0041 15.9165C83.2625 16.1456 84.3426 19.0259 84.0644 24.3119ZM184.629 27.274C184.089 27.274 183.827 27.8468 183.631 28.796C182.911 32.1018 182.158 32.8546 181.176 32.8546C180.096 32.8546 179.114 31.2181 178.852 27.945C178.656 25.3593 178.689 20.6133 178.951 15.8837C179 14.9182 178.721 13.969 176.119 13.0198C175.007 12.6107 173.37 12.0051 172.568 13.969C170.948 17.7056 169.804 21.6315 169.164 25.6538C169.164 25.752 169.033 25.7684 169.001 25.5556C168.886 24.1319 168.575 21.5298 168.542 16.0801C168.542 15.0164 168.313 14.1163 167.135 13.3798C166.366 12.8889 164.058 12.0542 163.207 13.0525C162.503 13.8708 161.669 16.1128 160.801 18.7477L159.59 22.348L159.607 14.3618C159.607 13.5435 159.05 13.2653 158.87 13.2162C157.91 12.92 156.924 12.7172 155.925 12.6107C155.139 12.6107 154.943 13.0525 154.943 13.7071C154.943 13.789 154.812 21.317 154.812 26.5867V27.3395C154.37 29.7615 152.946 33.051 151.391 33.051C149.837 33.051 149.1 31.6763 149.1 25.392C149.1 21.7262 149.215 20.1387 149.264 17.4875C149.297 15.9492 149.362 14.7873 149.362 14.5254C149.346 13.7071 147.938 13.298 147.284 13.1344C146.629 12.9871 146.04 12.9216 145.598 12.9543C144.943 12.9871 144.502 13.3962 144.502 13.969V14.8691C143.795 13.752 142.744 12.8958 141.507 12.4306C139.15 11.7269 136.695 12.3488 134.846 14.9345C133.25 17.2179 132.31 19.8952 132.129 22.6753C131.868 25.1301 131.966 27.6013 132.408 29.7124C131.868 32.069 130.837 33.051 129.724 33.051C128.104 33.051 126.942 30.3998 127.073 25.8502C127.171 22.839 127.76 20.7279 128.414 17.6839C128.693 16.3747 128.48 15.7201 127.907 15.0655C127.383 14.4599 126.271 14.149 124.65 14.5254C123.505 14.7873 121.868 15.0818 120.395 15.2946C120.395 15.2946 120.477 14.9509 120.559 14.3127C120.936 10.9905 117.319 11.2523 116.157 12.3161C115.469 12.9543 115.011 13.6908 114.815 15.0491C114.537 17.1766 116.288 18.1749 116.288 18.1749C115.163 22.4227 113.278 26.4316 110.724 30.007V28.8614C110.707 23.3627 110.773 19.0422 110.805 17.4875C110.838 15.9492 110.904 14.82 110.904 14.5418C110.904 13.9526 110.544 13.7235 109.823 13.4453C109.169 13.1835 108.416 13.0198 107.631 12.9543C106.649 12.8725 106.043 13.3962 106.059 14.0181V14.8691C105.35 13.7484 104.292 12.8917 103.048 12.4306C100.692 11.7269 98.2368 12.3488 96.3875 14.9345C94.8484 17.2408 93.9142 19.8971 93.6709 22.659C93.4254 25.2283 93.4581 27.4049 93.8182 29.2706C93.4418 31.1199 92.3616 33.0346 91.1506 33.0346C89.5959 33.0346 88.6958 31.6763 88.6958 25.392C88.6958 21.7262 88.8104 20.1387 88.8595 17.4875C88.8922 15.9492 88.9577 14.7873 88.9577 14.5254C88.9577 13.7071 87.5339 13.298 86.8793 13.1344C86.1919 12.9707 85.5864 12.9216 85.1445 12.9707C84.539 13.0034 84.1135 13.5435 84.1135 13.9526V14.8691C83.404 13.7484 82.346 12.8917 81.1023 12.4306C78.7457 11.7269 76.3073 12.3652 74.4416 14.9345C73.2142 16.6202 72.2323 18.4858 71.725 22.6263C71.5875 23.7337 71.5219 24.8489 71.5286 25.9648C71.0376 28.9269 68.8938 32.3473 67.1427 32.3473C66.1116 32.3473 65.1297 30.3671 65.1297 26.1284C65.1297 20.4824 65.4898 12.447 65.5389 11.6778L68.19 11.6287C69.3029 11.6287 70.3012 11.6451 71.7741 11.5633C72.5105 11.5306 73.2142 8.87937 72.4614 8.55206C72.1177 8.40478 69.6793 8.27385 68.6974 8.25749C67.8791 8.24112 65.6207 8.07747 65.6207 8.07747C65.6207 8.07747 65.8334 2.74237 65.8825 2.18595C65.9153 1.69499 65.3098 1.46587 64.9497 1.31859C64.1419 0.993463 63.3029 0.752172 62.4458 0.598511C61.2021 0.353031 60.6456 0.59851 60.5311 1.64589C60.3674 3.23333 60.2856 7.89745 60.2856 7.89745C59.3691 7.89745 56.2434 7.71743 55.3433 7.71743C54.4923 7.71743 53.5758 11.3505 54.7541 11.3996L59.991 11.5469L59.9419 22.2335V23.0027C59.0746 27.4704 56.0633 29.8761 56.0633 29.8761C56.718 26.9303 55.376 24.721 53.003 22.839C52.1193 22.1517 50.3846 20.8424 48.4371 19.4023C48.4371 19.4023 49.5663 18.2894 50.5646 16.0638C51.2683 14.4927 51.301 12.6925 49.5663 12.2997C46.7024 11.6287 44.3294 13.7235 43.6257 15.9819C43.3511 16.713 43.2822 17.5054 43.4265 18.2729C43.5707 19.0404 43.9226 19.7536 44.444 20.3351L44.6894 20.646C44.0348 21.8898 43.1511 23.5591 42.3983 24.8683C40.3199 28.4687 38.7325 31.3326 37.5378 31.3326C36.5886 31.3326 36.605 28.4359 36.605 25.7193C36.605 23.3791 36.7686 19.8605 36.9159 16.2274C36.965 15.0164 36.3595 14.329 35.3448 13.7071C34.538 13.149 33.6241 12.7645 32.6609 12.5779C31.5153 12.5779 28.2423 12.7416 25.1329 21.6934C24.7565 22.8226 23.9873 24.8683 23.9873 24.8683L24.0527 14.1163C24.0527 13.8544 23.9218 13.6253 23.6109 13.4617C22.6342 12.9425 21.5567 12.641 20.4524 12.5779C19.8632 12.5779 19.5686 12.8561 19.5686 13.3962L19.4541 30.2525C19.4541 31.529 19.4868 33.0182 19.6177 33.6729C19.7487 34.3275 19.945 34.8512 20.2069 35.1621C20.4524 35.4894 20.747 35.7185 21.2215 35.8167C21.6798 35.9149 24.1346 36.2258 24.2655 35.293C24.4291 34.1638 24.4291 32.9528 25.722 28.4196C27.7186 21.3661 30.337 17.913 31.5808 16.702C31.7936 16.4729 32.039 16.4729 32.0227 16.8166L31.6626 25.5229C31.3353 34.3111 32.9391 35.9313 35.2139 35.9313C36.965 35.9313 39.4362 34.1965 42.0873 29.8106L46.506 22.4462L49.0917 24.8356C51.1865 26.7994 51.8738 28.6978 51.4156 30.4816C51.0719 31.8399 49.7463 33.2637 47.4224 31.889C46.7351 31.4799 46.4405 31.169 45.7695 30.7271C45.3931 30.4816 44.8367 30.3998 44.493 30.6616C43.6257 31.3162 43.1184 32.1672 42.8401 33.1983C42.5619 34.1965 43.5766 34.7366 44.624 35.1948C45.5241 35.604 47.4715 35.964 48.7153 36.0131C53.5267 36.1768 57.3889 33.6892 60.0728 27.274C60.5638 32.8055 62.6095 35.9476 66.1607 35.9476C68.5337 35.9476 70.9231 32.871 71.9704 29.8597C72.265 31.0871 72.7069 32.1509 73.2797 33.0673C76.029 37.4041 81.3478 36.455 84.0153 32.7728C84.8336 31.6435 84.9645 31.2344 84.9645 31.2344C85.0444 32.4735 85.5802 33.639 86.4687 34.5063C87.3572 35.3737 88.5353 35.8813 89.7759 35.9313C91.5761 35.9313 93.4254 35.0803 94.7346 32.1509C94.8819 32.4782 95.0619 32.7728 95.2256 33.0673C97.975 37.4041 103.294 36.455 105.961 32.7728L106.289 32.3145L106.37 34.6057L103.916 36.8477C99.7915 40.6118 96.6494 43.4757 96.4202 46.8142C96.1257 51.0692 99.5788 52.6403 102.197 52.853C103.507 52.9182 104.81 52.6325 105.973 52.0255C107.135 51.4184 108.114 50.512 108.809 49.3999C110.085 47.5179 110.936 43.4593 110.871 39.4498L110.773 33.6238C114.693 29.0907 117.704 23.8457 119.643 18.1749C119.643 18.1749 121.165 18.1912 122.785 18.0931C123.308 18.0603 123.456 18.1585 123.358 18.5349C123.243 18.9931 121.312 26.4557 123.079 31.4308C124.29 34.8348 127.007 35.9313 128.644 35.9313C130.526 35.9313 132.342 34.5075 133.308 32.38L133.684 33.0673C136.433 37.4041 141.736 36.455 144.42 32.7728C145.025 31.9545 145.369 31.2344 145.369 31.2344C145.958 34.8348 148.757 35.9476 150.36 35.9476C152.03 35.9476 153.633 35.2603 154.91 32.2163C154.959 33.5583 155.041 34.6548 155.172 34.9984C155.254 35.2112 155.728 35.4894 156.088 35.604C157.61 36.1604 159.165 35.8985 159.754 35.784C160.147 35.7022 160.458 35.3748 160.507 34.5566C160.621 32.38 160.556 28.7305 161.211 26.0302C162.307 21.4643 163.338 19.6969 163.829 18.8295C164.107 18.3385 164.418 18.2567 164.435 18.7804C164.451 19.8278 164.5 22.9045 164.926 27.0449C165.253 30.0888 165.678 31.889 165.989 32.4455C166.922 34.082 168.068 34.1638 168.984 34.1638C169.573 34.1638 170.817 34.0002 170.702 32.9691C170.653 32.4618 170.735 29.336 171.848 24.8519C172.552 21.9225 173.73 19.2877 174.156 18.3058C174.319 17.9621 174.401 18.2403 174.401 18.3058C174.303 20.3024 174.106 26.8976 174.925 30.5143C176.038 35.3912 179.262 35.9476 180.391 35.9476C182.796 35.9476 184.76 34.1147 185.415 29.3197C185.579 28.1741 185.333 27.274 184.629 27.274Z" fill="#262626"/>
                </svg>
        </div>
        <p className='w-[70%] flex justify-center text-center'>
        Sign up to see photos and videos     from your friends
        </p>
        <Formik initialValues={{ mobileNumberorEmail: '', password: '', fullname: '', username: '' }} validationSchema={validationSchema} onSubmit={handleSubmit}>
          {({ isSubmitting, errors }) => (
           <Form className="w-[84%]">
           <div className="mb-3">
             <label htmlFor="mobileNumberorEmail" className="sr-only">Mobile Number or Email</label>
             <Field
               className="rounded-lg placeholder-gray-500 placeholder-opacity-70 text-sm w-full"
               data-cy="Sign-Up-mobileNumberorEmail-Input"
               placeholder="Mobile Number or Email"
               name="mobileNumberorEmail"
               type="text"
               style={{ border: '1px solid #ccc', padding: '6px', margin: '5px 0' }}
             />
             {errors.mobileNumberorEmail && (
               <div className="text-red-600 text-xs mt-1" data-cy="Sign-Up-mobileNumberorEmail-Input-Error-Message">
                 {errors.mobileNumberorEmail}
               </div>
             )}
           </div>
           <div className="mb-3">
             <label htmlFor="password" className="sr-only">Password</label>
             <Field
               className="rounded-lg placeholder-gray-500 placeholder-opacity-70 text-sm w-full"
               data-cy="Sign-Up-Password-Input"
               placeholder="Password"
               name="password"
               type="password"
               style={{ border: '1px solid #ccc', padding: '6px', margin: '5px 0' }}
             />
             {errors.password && (
               <div className="text-red-600 text-xs mt-1" data-cy="Sign-Up-password-Input-Error-Message">
                 {errors.password}
               </div>
             )}
           </div>
           <div className="mb-3">
             <label htmlFor="fullname" className="sr-only">Full Name</label>
             <Field
               className="rounded-lg placeholder-gray-500 placeholder-opacity-70 text-sm w-full"
               data-cy="Sign-Up-fullname-Input"
               placeholder="Full Name"
               name="fullname"
               type="text"
               style={{ border: '1px solid #ccc', padding: '6px', margin: '5px 0' }}
             />
             {errors.fullname && (
               <div className="text-red-600 text-xs mt-1" data-cy="Sign-Up-fullname-Input-Error-Message">
                 {errors.fullname}
               </div>
             )}
           </div>
           <div className="mb-3">
             <label htmlFor="username" className="sr-only">Username</label>
             <Field
               className="rounded-lg placeholder-gray-500 placeholder-opacity-70 text-sm w-full"
               data-cy="Sign-Up-username-Input"
               placeholder="Username"
               name="username"
               type="text"
               style={{ border: '1px solid #ccc', padding: '6px', margin: '5px 0' }}
             />
             {errors.username && (
               <div className="text-red-600 text-xs mt-1" data-cy="Sign-Up-username-Input-Error-Message">
                 {errors.username}
               </div>
             )}
           </div>
              <div className="text-gray-400 text-sm pt-2">
  <p>
    People who use our service may have uploaded your contact information to Instagram.{' '}
    <button className="text-blue-500">
      Learn
    </button>
    <button className="text-blue-500 px-32">
      More
    </button>
  </p>
</div>
<div className="text-gray-400 text-sm pt-4">
  <p className="text-sm text-center">
    By signing up, you agree to our{' '}
    <Link href="/terms" className="text-blue-500">
      Terms
    </Link>
    ,{' '}
    <Link href="/privacy" className="text-blue-500">
      Privacy Policy
    </Link>
    {' '}and{' '}
    <Link href="/cookies" className="text-blue-500">
      Cookies Policy
    </Link>.
  </p>
</div>
              <button className='w-full h-12 bg-[#2563EB] rounded-lg text-white my-6' data-cy="Sign-Up-Submit-Button" type="submit" disabled={isSubmitting} >
Sign up              </button>
            </Form>
          )}
        </Formik>
      </div>
      <div className='w-[364px] h-[4.5rem] bg-white rounded-lg flex items-center justify-center'>
      <p className="text-sm text-center w-[10.4rem] flex justify-between">
       Have an account?
        <Link href="/login" className="text-blue-500">
        {' '}Log in
        </Link>
      </p>
    </div>
</div>
  );
};
export default Page;